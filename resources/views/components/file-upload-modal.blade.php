<div id="file-upload-modal" class="modal">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Confirm File Upload</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="d-flex flex-row">
                    <div class="p-2 rounded shadow d-inline-flex flex-wrap bg-primary-10 text-end">
                        <div class="col-auto my-auto ms-2">
                            <svg width="32" height="26" viewBox="0 0 32 26" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M29.9118 1.6787e-06H9.05556C8.88464 -0.000129698 8.71536 0.0305722 8.5574 0.0903544C8.39943 0.150137 8.25587 0.237829 8.13491 0.348423C8.01395 0.459018 7.91796 0.590349 7.85242 0.734919C7.78688 0.879489 7.75307 1.03447 7.75293 1.191V6.5L19.8391 9.75L31.2155 6.5V1.191C31.2153 1.03438 31.1815 0.879323 31.1159 0.734688C31.0503 0.590053 30.9542 0.458677 30.8331 0.348069C30.712 0.237462 30.5684 0.149791 30.4103 0.0900671C30.2522 0.0303438 30.0828 -0.000261161 29.9118 1.6787e-06Z" fill="#41A5EE"/>
                                <path d="M31.2155 6.5H7.75293V13L19.8391 14.95L31.2155 13V6.5Z" fill="#2B7CD3"/>
                                <path d="M7.75293 13V19.5L19.1283 20.8L31.2155 19.5V13H7.75293Z" fill="#185ABD"/>
                                <path d="M9.05556 26H29.9107C30.0818 26.0004 30.2513 25.9699 30.4095 25.9102C30.5677 25.8506 30.7115 25.7629 30.8327 25.6523C30.9539 25.5417 31.0501 25.4102 31.1158 25.2655C31.1815 25.1208 31.2153 24.9657 31.2155 24.809V19.5H7.75293V24.809C7.75307 24.9655 7.78688 25.1205 7.85242 25.2651C7.91796 25.4097 8.01395 25.541 8.13491 25.6516C8.25587 25.7622 8.39943 25.8499 8.5574 25.9096C8.71536 25.9694 8.88464 26.0001 9.05556 26Z" fill="#103F91"/>
                                <path opacity="0.1" d="M16.4029 5.19995H7.75293V21.4499H16.4029C16.7476 21.4484 17.0777 21.3225 17.3217 21.0996C17.5657 20.8766 17.704 20.5746 17.7066 20.259V6.39095C17.704 6.07529 17.5657 5.77327 17.3217 5.55034C17.0777 5.32741 16.7476 5.20152 16.4029 5.19995Z" fill="black"/>
                                <path opacity="0.2" d="M15.6921 5.84998H7.75293V22.1H15.6921C16.0367 22.0984 16.3669 21.9725 16.6109 21.7496C16.8549 21.5267 16.9932 21.2246 16.9958 20.909V7.04098C16.9932 6.72531 16.8549 6.4233 16.6109 6.20037C16.3669 5.97743 16.0367 5.85155 15.6921 5.84998Z" fill="black"/>
                                <path opacity="0.2" d="M15.6921 5.84998H7.75293V20.8H15.6921C16.0367 20.7984 16.3669 20.6725 16.6109 20.4496C16.8549 20.2267 16.9932 19.9246 16.9958 19.609V7.04098C16.9932 6.72531 16.8549 6.4233 16.6109 6.20037C16.3669 5.97743 16.0367 5.85155 15.6921 5.84998Z" fill="black"/>
                                <path opacity="0.2" d="M14.9812 5.84998H7.75293V20.8H14.9812C15.3259 20.7984 15.656 20.6725 15.9001 20.4496C16.1441 20.2267 16.2824 19.9246 16.285 19.609V7.04098C16.2824 6.72531 16.1441 6.4233 15.9001 6.20037C15.656 5.97743 15.3259 5.85155 14.9812 5.84998Z" fill="black"/>
                                <path d="M1.9463 5.84998H14.9813C15.3266 5.84971 15.6579 5.97501 15.9023 6.19834C16.1468 6.42166 16.2844 6.72475 16.285 7.04098V18.959C16.2844 19.2752 16.1468 19.5783 15.9023 19.8016C15.6579 20.0249 15.3266 20.1502 14.9813 20.15H1.9463C1.77528 20.1502 1.60589 20.1196 1.4478 20.0599C1.28971 20.0002 1.14602 19.9125 1.02495 19.8019C0.903871 19.6913 0.807782 19.5599 0.742174 19.4153C0.676565 19.2707 0.642721 19.1156 0.642578 18.959V7.04098C0.642721 6.88436 0.676565 6.7293 0.742174 6.58466C0.807782 6.44003 0.903871 6.30865 1.02495 6.19804C1.14602 6.08744 1.28971 5.99977 1.4478 5.94004C1.60589 5.88032 1.77528 5.84971 1.9463 5.84998Z" fill="url(#paint0_linear_750_2623)"/>
                                <path d="M5.9932 14.988C6.01832 15.172 6.03579 15.332 6.04343 15.469H6.074C6.08492 15.339 6.10894 15.182 6.14498 14.999C6.18101 14.816 6.21267 14.661 6.24216 14.534L7.61248 9.127H9.38571L10.8052 14.453C10.8878 14.7824 10.9469 15.1165 10.9821 15.453H11.0061C11.0322 15.1254 11.0814 14.7997 11.1535 14.478L12.288 9.12H13.9007L11.9091 16.868H10.0234L8.67271 11.742C8.6334 11.594 8.58899 11.4013 8.53949 11.164C8.49 10.9267 8.45942 10.7533 8.44778 10.644H8.42485C8.40956 10.77 8.37899 10.957 8.33313 11.205C8.28727 11.454 8.25124 11.637 8.22394 11.757L6.95407 16.871H5.03671L3.03418 9.127H4.67202L5.90694 14.545C5.9438 14.6912 5.97259 14.8391 5.9932 14.988Z" fill="white"/>
                                <defs>
                                <linearGradient id="paint0_linear_750_2623" x1="3.36575" y1="4.91398" x2="12.2772" y2="21.7653" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#2368C4"/>
                                <stop offset="0.5" stop-color="#1A5DBE"/>
                                <stop offset="1" stop-color="#1146AC"/>
                                </linearGradient>
                                </defs>
                            </svg>
                        </div>
                        <div class="col-auto ps-0">
                            <div style="font-size: calc(0.7rem + 0.1vw);" id="fileName">
                            </div>
                            <div style="font-size: calc(0.7rem + 0.1vw); color: #A3A3A5;" id="fileDesc">
                                18 KB, Word.Document.12
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button id="uploadBtn" class="btn btn-primary">Upload Attachment</button>
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<script>
    var maxFileSizeInBytes = 10 * 1024 * 1024; // 10 MB

    document.getElementById('fileInput').addEventListener('change', function() {
        var fileName = document.getElementById('fileName');
        var fileDesc = document.getElementById('fileDesc');
        var file = this.files[0];

        if (file.size > maxFileSizeInBytes) {
            alert('File size exceeds the limit of 10 MB.');
            this.value = null; // Clear the file input
            fileName.innerHTML = 'No file selected';
            fileDesc.innerHTML = '';
            return;
        }

        fileName.innerHTML = 'Selected file: ' + file.name;
        fileDesc.innerHTML = getFileSize(file.size) . ', ' . getFileExtension(file.name);
        $('#file-upload-modal').modal('show');
    });

    document.getElementById('uploadBtn').addEventListener('click', function() {
        // Perform the upload action here
        // ...
        // Once the upload is complete, close the modal
        $('#file-upload-modal').modal('hide');
    });

    function getFileSize(size) {
        if (size < 1048576) {
            var kilobytes = Math.round(size / 1024);
            return kilobytes + ' KB';
        } else {

        }
    }

    function getFileExtension(filename) {
        return filename.split('.').pop();
    }
</script>
